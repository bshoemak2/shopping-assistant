<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Barlito’s Bazaar - Best Gag Gifts & Prank Ideas{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <meta name="description" content="Discover the best gag gifts for brother's wedding, funny office prank ideas, and more at Barlito’s Bazaar! Hilarious Amazon finds await.">
    <meta name="keywords" content="best gag gift for brother's wedding, funny office prank ideas, secret santa gag gifts, quirky amazon products, Barlito’s Bazaar">
    <meta property="og:title" content="Barlito’s Bazaar - Hilarious Gag Gifts & Pranks">
    <meta property="og:description" content="Find the funniest gag gifts and prank ideas for any occasion! From fart whistles to unicorn meat, we've got your silly needs covered.">
    <meta property="og:image" content="{{ url_for('static', filename='funny_image_2.jpg') }}">
    <meta property="og:url" content="https://shopping-assistant-5m0q.onrender.com/">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <script>
      !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='https://static.ads-twitter.com/uwt.js',a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
      twq('init','pdq4g');
      twq('track','PageView');
    </script>
</head>
<body>
    <div id="loading-bar"></div>
    <img id="barlito-mascot" src="{{ url_for('static', filename='barlito.jpg') }}" alt="Barlito the Prankster" data-tooltip="Cluck yeah, prank on!" style="display: block;" onerror="console.log('Failed to load Barlito image. Check path: static/barlito.jpg')">
    <!-- Fallback div for speech bubble -->
    <div id="barlito-tooltip" class="barlito-tooltip" style="display: none;"></div>
    {% block header %}{% endblock %}
    <nav>
        <a href="#popular-picks">Popular Picks</a> |
        <a href="#wearable-pranks">Wearable Pranks</a> |
        <a href="#desk-disasters">Desk Disasters</a> |
        <a href="#home-hilarity">Home Hilarity</a> |
        <a href="#all-products">All Products</a>
    </nav>
    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <footer>
        <a href="/">HOME</a> | <a href="/about">ABOUT</a>
        <div class="trust-badges" style="margin-top: 10px;">
            <p style="font-size: 1rem;">Amazon Affiliate | Secure Checkout via Amazon</p>
        </div>
    </footer>
    <script type="text/javascript">
        var sc_project=13107765; 
        var sc_invisible=0; 
        var sc_security="da1ff213"; 
        var scJsHost = "https://";
        (function() {
            var script = document.createElement('script');
            script.async = true;
            script.src = scJsHost + 'statcounter.com/counter/counter.js';
            document.head.appendChild(script);
        })();
    </script>
    <noscript><div class="statcounter"><a title="Web Analytics Made Easy - Statcounter" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/13107765/0/da1ff213/0/" alt="Web Analytics Made Easy - Statcounter" referrerPolicy="no-referrer-when-downgrade"></a></div></noscript>
    <script>
        // Fake loading bar animation
        window.onload = function() {
            const bar = document.getElementById('loading-bar');
            if (bar) {
                let width = 0;
                const interval = setInterval(() => {
                    if (width < 99) {
                        width += Math.random() * 10;
                        bar.style.width = `${Math.min(width, 99)}%`;
                    } else {
                        setTimeout(() => {
                            bar.style.width = '100%';
                            setTimeout(() => bar.style.display = 'none', 500);
                        }, 500);
                        clearInterval(interval);
                    }
                }, 100);
            } else {
                console.error('Loading bar element not found!');
            }
        };

        // Preload fart sound to reduce latency
        const fartSound = new Audio('https://soundbible.com/mp3/Fart-Common-Everyday-Fart_Mike-Koenig.mp3');
        fartSound.preload = 'auto';

        // Enhanced Barlito interactivity with cheeky comments
        (function() {
            console.log('Barlito script initializing...');
            const initBarlito = () => {
                console.log('DOMContentLoaded event fired');
                const barlitoTips = [
                    "Oi, drop some Fake Poop and watch ‘em squirm!",
                    "Screaming Goat Button? More like scream-and-run, mate!",
                    "Shock Pen’s my fave—zap ‘em when they least expect it!",
                    "Burrito Blanket: Wrap up and fart in style, yeah?",
                    "Fart Whistles at a wedding? You’re a legend!",
                    "Stick Giant Googly Eyes on their chair—freak ‘em out!"
                ];
                const barlitoMascot = document.getElementById('barlito-mascot');
                const tooltipFallback = document.getElementById('barlito-tooltip');
                console.log('Barlito script running:', barlitoMascot);
                if (barlitoMascot && tooltipFallback) {
                    barlitoMascot.style.display = 'block';
                    const handleInteraction = (e) => {
                        console.log('Interaction event triggered on Barlito:', e.type);
                        console.log('Browser:', navigator.userAgent);
                        // Play fart sound when Barlito is clicked
                        console.log('Attempting to play fart sound for Barlito click');
                        fartSound.play().then(() => {
                            console.log('Fart sound played successfully for Barlito');
                        }).catch(error => {
                            console.error('Error playing fart sound for Barlito:', error);
                        });
                        const randomTip = barlitoTips[Math.floor(Math.random() * barlitoTips.length)];
                        console.log('Barlito clicked, new tip:', randomTip);
                        barlitoMascot.setAttribute('data-tooltip', randomTip);
                        tooltipFallback.textContent = randomTip;
                        const mascotRect = barlitoMascot.getBoundingClientRect();
                        const isMobile = window.innerWidth <= 600;
                        const offset = isMobile ? 30 : 10;
                        tooltipFallback.style.bottom = `${window.innerHeight - mascotRect.top + offset}px`;
                        tooltipFallback.style.right = `${window.innerWidth - mascotRect.right + 10}px`;
                        barlitoMascot.classList.add('show-tooltip');
                        tooltipFallback.classList.add('show-tooltip');
                        console.log('Tooltip position:', tooltipFallback.getBoundingClientRect());
                        setTimeout(() => {
                            barlitoMascot.classList.remove('show-tooltip');
                            tooltipFallback.classList.remove('show-tooltip');
                            console.log('Tooltip class removed');
                        }, 5000);
                    };
                    barlitoMascot.addEventListener('click', handleInteraction);
                    barlitoMascot.addEventListener('mousedown', handleInteraction);
                    barlitoMascot.addEventListener('touchstart', handleInteraction);
                } else {
                    console.error('Barlito mascot or tooltip fallback element not found!');
                }
            };

            // Try DOMContentLoaded first
            document.addEventListener('DOMContentLoaded', initBarlito);

            // Fallback: Run after a short delay if DOMContentLoaded doesn't fire
            setTimeout(() => {
                if (!document.getElementById('barlito-mascot')?.classList?.contains('show-tooltip')) {
                    console.log('Fallback: Running Barlito script after delay');
                    initBarlito();
                }
            }, 2000);
        })();
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>